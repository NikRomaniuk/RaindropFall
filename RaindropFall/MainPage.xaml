<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns = "http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:x = "http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class = "RaindropFall.MainPage"
             Title = "Raindrop Fall">
    <Grid BackgroundColor = "Black">
        <AbsoluteLayout x:Name = "Scene">

            <!-- HP Icon -->
            <Grid x:Name = "HpIconContainer"
                  ZIndex="100"
                  WidthRequest = "40"
                  HeightRequest = "40"
                  InputTransparent = "True"
                  AbsoluteLayout.LayoutFlags = "PositionProportional"
                  AbsoluteLayout.LayoutBounds = "0.05, 0.05, 40, 40">

                <!-- Frame -->
                <BoxView Color = "#20303030"
                         CornerRadius = "4"
                         HorizontalOptions = "Fill"
                         VerticalOptions = "Fill"/>

                <!-- Fill that shrinks with HP -->
                <BoxView x:Name = "HpIconFill"
                         Color = "Cyan"
                         CornerRadius = "4"
                         HeightRequest = "40"
                         HorizontalOptions = "Fill"
                         VerticalOptions = "End"/>
            </Grid>

            <!-- Touch Input Areas -->
        
            <!-- Left Half -->
            <BoxView    x:Name = "LeftInputArea"
                        ZIndex="5"
                        Color = "Green" 
                        AbsoluteLayout.LayoutFlags = "All"
                        AbsoluteLayout.LayoutBounds = "0, 0, 0.5, 1">
                <BoxView.Behaviors>
                    <toolkit:TouchBehavior CurrentTouchStatusChanged = "OnLeftTouchStatusChanged"/>
                </BoxView.Behaviors>
            </BoxView>

            <!-- Right Half -->
            <BoxView    x:Name = "RightInputArea"
                        ZIndex="5"
                        Color = "Yellow" 
                        AbsoluteLayout.LayoutFlags = "All"
                        AbsoluteLayout.LayoutBounds = "1, 0, 0.5, 1">
                <BoxView.Behaviors>
                    <toolkit:TouchBehavior CurrentTouchStatusChanged = "OnRightTouchStatusChanged"/>
                </BoxView.Behaviors>
            </BoxView>

            <!-- Main Character -->
            <BoxView    x:Name = "DropCharacter"
                        ZIndex="50"
                        Color = "Cyan"
                        WidthRequest = "30"
                        HeightRequest = "30"
                        CornerRadius = "5"
                        AbsoluteLayout.LayoutFlags = "PositionProportional"
                        AbsoluteLayout.LayoutBounds = "0.5, 0.5, 30, 30" />
        </AbsoluteLayout>
    </Grid>

</ContentPage>
